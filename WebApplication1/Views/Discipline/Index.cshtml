@model System.Collections.Generic.List<WebApplication1.Models.Discipline>

@{
    ViewBag.Title = "Disiplines";
    Layout = "_Layout";
}

<h2>Disciplines</h2>
<table class="table">
    <thead class="thead-light">
    <tr>

        <th scope="col">Key</th>
        <th scope="col">Name</th>
        <th scope="col">Degree</th>
        @if (User.IsInRole("2"))
        {
            <th scope="col">Edit</th>
            <th scope="col">Delete</th>
        }

    </tr>
    </thead>
    <tbody>

    @foreach (var item in Model)
    {
        <tr>
            <td>@Html.DisplayName(item.key.ToString())</td>
            @{
                // TODO enviar o valor por parametro para devolver os decks da disciplina em que o user esta
            }
            <td>
                <a class="nav-link text-dark" asp-area="" asp-controller="Deck" asp-action="Index" asp-route-discipline=@item.key>@Html.DisplayName(item.name)</a>
            </td>
            <td>@Html.DisplayName(item.degree.ToString())</td>
            <td>
                <a asp-area="" asp-controller="Discipline" asp-action="EditDiscipline" asp-route-key=@item.key>✏</a>
            </td>
            <td>❌</td>
        </tr>
    }
    </tbody>
</table>


<a class="btn btn-success" asp-area="" asp-controller="Discipline" asp-action="DisciplinePage">Add new</a>